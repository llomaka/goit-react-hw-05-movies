"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[708],{4290:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(2043),r=n(184);function c(){return(0,r.jsx)(a.v,{enabled:!0,size:"100",color:"#490D9A",thickness:"150",style:{display:"block",marginTop:"20",marginLeft:"auto",marginRight:"auto"}})}},4766:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(501),r=n(6871),c=n(6048),o=n.n(c),i="MoviesGallery_list__aM+SO",s="MoviesGallery_item__rY1Lr",u="MoviesGallery_link__0igYa",l="MoviesGallery_pagination_list__Sq6zw",p="MoviesGallery_pagination_item__Zhe2n",g="MoviesGallery_pagination_active_item__zUfLa",h="MoviesGallery_disabled_item__7RsbI",f=n(184);function m(e){var t=e.movies,n=e.page,c=e.pageCount,m=e.onPageClick,v=(0,r.TH)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("ul",{className:i,children:t.map((function(e){var t=e.id,n=e.title;return(0,f.jsx)("li",{className:s,children:(0,f.jsx)(a.rU,{to:"/movies/".concat(t),state:{from:v},className:u,children:n})},t)}))}),c>1&&(0,f.jsx)(o(),{breakLabel:"...",nextLabel:">",onPageChange:function(e){m(e.selected+1)},pageCount:c,forcePage:n-1,marginPagesDisplayed:2,previousLabel:"<",renderOnZeroPageCount:null,containerClassName:l,pageClassName:p,activeClassName:g,breakClassName:p,previousClassName:p,nextClassName:p,disabledClassName:h})]})}},6708:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a=n(885),r=n(2791),c=n(6409),o="Searchbar_overlay__0NkZ+",i="Searchbar_form__D-hp5",s="Searchbar_button__nkcjk",u="Searchbar_label__BRcTT",l="Searchbar_input__19umw",p=n(184);function g(e){var t=e.onSearchClick,n=(0,r.useState)(""),g=(0,a.Z)(n,2),h=g[0],f=g[1];return(0,p.jsx)("div",{className:o,children:(0,p.jsxs)("form",{className:i,onSubmit:function(e){if(e.preventDefault(),""===h.trim())return c.Am.warning("Enter search query text!");t(h)},children:[(0,p.jsx)("button",{type:"submit",className:s,children:(0,p.jsx)("span",{className:u,children:"Search"})}),(0,p.jsx)("input",{className:l,type:"text",name:"searchQuery",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){f(e.target.value)},value:h})]})})}var h=n(4290),f=n(4766),m=n(7552),v=n(501),d=n(2690);function _(){var e=function(){var e=(0,v.lr)(),t=(0,a.Z)(e,2),n=t[0],o=t[1],i=(0,r.useState)("idle"),s=(0,a.Z)(i,2),u=s[0],l=s[1],p=(0,r.useState)([]),g=(0,a.Z)(p,2),h=g[0],f=g[1],m=(0,r.useState)(null),_=(0,a.Z)(m,2),y=_[0],b=_[1],x=(0,r.useState)(1),k=(0,a.Z)(x,2),C=k[0],S=k[1];return(0,r.useEffect)((function(){n.get("query")&&(l("pending"),(0,d.LI)(n.get("query"),n.get("page")||1).then((function(e){if(0===e.total_results)return b("Found 0 movies! Please, change search query."),l("rejected"),c.Am.warning("Found 0 movies! Please, change search query.");f(e.results),S(e.total_pages),l("resolved")})).catch((function(e){c.Am.error(e.message),b(e.message),l("rejected")})))}),[n]),{searchParams:n,status:u,movies:h,error:y,pageCount:C,onSearchClick:function(e){n.get("query")&&n.get("query").toLowerCase()===e.toLowerCase()||(f([]),o({query:e,page:1}))},onPageClick:function(e){o({query:n.get("query"),page:e})}}}(),t=e.searchParams,n=e.status,o=e.movies,i=e.error,s=e.pageCount,u=e.onSearchClick,l=e.onPageClick;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g,{onSearchClick:u}),"pending"===n&&(0,p.jsx)(h.Z,{}),"rejected"===n&&(0,p.jsx)(m.Z,{text:"Error getting information from server: ".concat(i)}),"resolved"===n&&o.length>0&&(0,p.jsx)(f.Z,{movies:o,page:Number(t.get("page")),pageCount:s,onPageClick:l})]})}},2690:function(e,t,n){n.d(t,{Ad:function(){return m},LI:function(){return p},Mc:function(){return h},mo:function(){return d},wr:function(){return u}});var a=n(5861),r=n(7757),c=n.n(r),o=n(4569),i=n.n(o),s="fdf0e898687a376156944fbb1ab25196";function u(){return l.apply(this,arguments)}function l(){return l=(0,a.Z)(c().mark((function e(){var t,n,a,r,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:1,n=u.length>1&&void 0!==u[1]?u[1]:"movie",a=u.length>2&&void 0!==u[2]?u[2]:"day",e.next=5,i()("https://api.themoviedb.org/3/trending/".concat(n,"/").concat(a,"?api_key=").concat(s,"&page=").concat(t));case 5:return r=e.sent,o=r.data,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return g=(0,a.Z)(c().mark((function e(t){var n,a,r,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:"en-US",e.next=4,i()("https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&language=").concat(a,"&query=").concat(t,"&page=").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return f=(0,a.Z)(c().mark((function e(t){var n,a,r,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"en-US",e.next=3,i()("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(s,"&language=").concat(n));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return v=(0,a.Z)(c().mark((function e(t){var n,a,r,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"en-US",e.next=3,i()("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(s,"&language=").concat(n));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function d(e){return _.apply(this,arguments)}function _(){return _=(0,a.Z)(c().mark((function e(t){var n,a,r,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:"en-US",e.next=4,i()("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=").concat(a,"&page=").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}}}]);
//# sourceMappingURL=708.448a30b9.chunk.js.map