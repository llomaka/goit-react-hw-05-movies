"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[708],{4290:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(2043),r=n(184);function c(){return(0,r.jsx)(a.v,{enabled:!0,size:"80",color:"#490D9A",thickness:"150",style:{display:"block",marginTop:"20",marginLeft:"auto",marginRight:"auto"}})}},4766:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(501),r=n(6048),c=n.n(r),o="MoviesGallery_list__aM+SO",i="MoviesGallery_item__rY1Lr",s="MoviesGallery_link__0igYa",u="MoviesGallery_pagination_list__Sq6zw",l="MoviesGallery_pagination_item__Zhe2n",p="MoviesGallery_pagination_active_item__zUfLa",g="MoviesGallery_disabled_item__7RsbI",h=n(184);function f(e){var t=e.movies,n=e.page,r=e.pageCount,f=e.onPageClick;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("ul",{className:o,children:t.map((function(e){var t=e.id,n=e.title;return(0,h.jsx)("li",{className:i,children:(0,h.jsx)(a.rU,{to:"/movies/".concat(t),className:s,children:n})},t)}))}),r>1&&(0,h.jsx)(c(),{breakLabel:"...",nextLabel:">",onPageChange:function(e){f(e.selected+1)},pageCount:r,forcePage:n-1,marginPagesDisplayed:2,previousLabel:"<",renderOnZeroPageCount:null,containerClassName:u,pageClassName:l,activeClassName:p,breakClassName:l,previousClassName:l,nextClassName:l,disabledClassName:g})]})}},6708:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a=n(885),r=n(2791),c=n(6409),o=n(501),i="Searchbar_overlay__0NkZ+",s="Searchbar_form__D-hp5",u="Searchbar_button__nkcjk",l="Searchbar_label__BRcTT",p="Searchbar_input__19umw",g=n(184);function h(e){var t=e.onSearchClick,n=(0,o.lr)(),h=(0,a.Z)(n,1)[0],f=(0,r.useState)((function(){return h.get("query")?h.get("query"):""})),m=(0,a.Z)(f,2),v=m[0],d=m[1];return(0,g.jsx)("div",{className:i,children:(0,g.jsxs)("form",{className:s,onSubmit:function(e){if(e.preventDefault(),""===v.trim())return c.Am.warning("Enter search query text!");t(v)},children:[(0,g.jsx)("button",{type:"submit",className:u,children:(0,g.jsx)("span",{className:l,children:"Search"})}),(0,g.jsx)("input",{className:p,type:"text",name:"searchQuery",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){d(e.target.value)},value:v})]})})}var f=n(4290),m=n(4766),v=n(7552),d=n(2690);function _(){var e=function(){var e=(0,o.lr)(),t=(0,a.Z)(e,2),n=t[0],i=t[1],s=(0,r.useState)("idle"),u=(0,a.Z)(s,2),l=u[0],p=u[1],g=(0,r.useState)([]),h=(0,a.Z)(g,2),f=h[0],m=h[1],v=(0,r.useState)(null),_=(0,a.Z)(v,2),y=_[0],b=_[1],x=(0,r.useState)(1),k=(0,a.Z)(x,2),C=k[0],S=k[1];return(0,r.useEffect)((function(){n.get("query")&&(p("pending"),(0,d.LI)(n.get("query"),n.get("page")||1).then((function(e){if(0===e.total_results)return b("Found 0 movies! Please, change search query."),p("rejected"),c.Am.warning("Found 0 movies! Please, change search query.");m(e.results),S(e.total_pages),p("resolved")})).catch((function(e){c.Am.error(e.message),b(e.message),p("rejected")})))}),[n]),{searchParams:n,status:l,movies:f,error:y,pageCount:C,onSearchClick:function(e){n.get("query")&&n.get("query").toLowerCase()===e.toLowerCase()||(m([]),i({query:e,page:1}))},onPageClick:function(e){i({query:n.get("query"),page:e})}}}(),t=e.searchParams,n=e.status,i=e.movies,s=e.error,u=e.pageCount,l=e.onSearchClick,p=e.onPageClick;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h,{onSearchClick:l}),"pending"===n&&(0,g.jsx)(f.Z,{}),"rejected"===n&&(0,g.jsx)(v.Z,{text:"Error getting information from server: ".concat(s)}),"resolved"===n&&i.length>0&&(0,g.jsx)(m.Z,{movies:i,page:Number(t.get("page")),pageCount:u,onPageClick:p})]})}},2690:function(e,t,n){n.d(t,{Ad:function(){return m},LI:function(){return p},Mc:function(){return h},mo:function(){return d},wr:function(){return u}});var a=n(5861),r=n(7757),c=n.n(r),o=n(4569),i=n.n(o),s="fdf0e898687a376156944fbb1ab25196";function u(){return l.apply(this,arguments)}function l(){return l=(0,a.Z)(c().mark((function e(){var t,n,a,r,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:1,n=u.length>1&&void 0!==u[1]?u[1]:"movie",a=u.length>2&&void 0!==u[2]?u[2]:"day",e.next=5,i()("https://api.themoviedb.org/3/trending/".concat(n,"/").concat(a,"?api_key=").concat(s,"&page=").concat(t));case 5:return r=e.sent,o=r.data,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return g=(0,a.Z)(c().mark((function e(t){var n,a,r,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:"en-US",e.next=4,i()("https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&language=").concat(a,"&query=").concat(t,"&page=").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return f=(0,a.Z)(c().mark((function e(t){var n,a,r,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"en-US",e.next=3,i()("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(s,"&language=").concat(n));case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return v=(0,a.Z)(c().mark((function e(t){var n,a,r,o=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"en-US",e.next=3,i()("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(s,"&language=").concat(n));case 3:return a=e.sent,r=a.data,e.abrupt("return",r.cast);case 6:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function d(e){return _.apply(this,arguments)}function _(){return _=(0,a.Z)(c().mark((function e(t){var n,a,r,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:"en-US",e.next=4,i()("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=").concat(a,"&page=").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}}}]);
//# sourceMappingURL=708.dad047f6.chunk.js.map